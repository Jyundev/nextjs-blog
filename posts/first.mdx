---
title: "Next.jsì—ì„œ ì„¸ì…˜ ê´€ë¦¬í•˜ê¸°"
publishedAt: "2025-04-09"
summary: "ì²« ê²Œì‹œê¸€"
---

ìƒí™© ì¶”ì²œ ë°©ì‹
ë‹¤ì–‘í•œ OAuth ë¡œê·¸ì¸ í•„ìš” next-auth
ë‹¨ìˆœí•œ ì‚¬ìš©ì ì •ë³´ë§Œ ì €ì¥ iron-session
ì¿ í‚¤ ê¸°ë°˜ ì¸ì¦ ìœ ì§€ ì›í•¨ iron-session
ìì²´ JWT ì²˜ë¦¬ ì§ì ‘ êµ¬í˜„ (ì£¼ì˜ í•„ìš”)

ì½œë°± í•¨ìˆ˜ ì‹¤í–‰ ì‹œì 
authorize() ë¡œê·¸ì¸ ìš”ì²­ ì‹œ
jwt() ë¡œê·¸ì¸ ì„±ê³µ ì§í›„, ë˜ëŠ” ì„¸ì…˜ ê²€ì¦ ì‹œ
session() í´ë¼ì´ì–¸íŠ¸ê°€ ì„¸ì…˜ ìš”ì²­í•  ë•Œ (í˜ì´ì§€ ì´ë™, ìƒˆë¡œê³ ì¹¨ ë“±)
signIn() ë¡œê·¸ì¸ ìš”ì²­ ì‹œ ì‹¤í–‰ (í—ˆìš© ì—¬ë¶€ ê²°ì •)
authorized() ê° ìš”ì²­ë§ˆë‹¤ ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ê²€ì‚¬í•  ë•Œ

useSession() ğŸ‘‰ **í´ë¼ì´ì–¸íŠ¸ ì¸¡(ë¸Œë¼ìš°ì €)**ì—ì„œ ì„¸ì…˜ì„ ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš©

getSession() ğŸ‘‰ **ì„œë²„ ì¸¡(SSR/API Routes ë“±)**ì—ì„œ ì„¸ì…˜ì„ ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš©

í•­ëª© useSession() getSession()
ì‹¤í–‰ ìœ„ì¹˜ í´ë¼ì´ì–¸íŠ¸(Client) ì„œë²„(Server)
ì‚¬ìš© ìœ„ì¹˜ React ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ getServerSideProps, API Routes ë“±
ë°˜í™˜ ê°’ { data, status } í˜•íƒœì˜ í›… `Promise<Session
ë¹„ë™ê¸° ì²˜ë¦¬ ë‚´ë¶€ì ìœ¼ë¡œ ìë™ await í•„ìš”
ìë™ ë¦¬ë Œë”ë§ âœ… ì„¸ì…˜ ë³€ê²½ ì‹œ ìë™ ì—…ë°ì´íŠ¸ âŒ í•œ ë²ˆë§Œ í˜¸ì¶œë¨
ì˜ˆì‹œ ìš©ë„ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸, UI ë Œë”ë§ ì œì–´ SSRì—ì„œ ë¡œê·¸ì¸ ìƒíƒœ ê¸°ë°˜ ë°ì´í„° ë¡œë”©

import { useSession } from "next-auth/react";

export default function Dashboard() {
  const { data: session, status } = useSession();

if (status === "loading") {
return <div>ë¡œë”© ì¤‘...</div>;
}

if (!session) {
return <div>ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.</div>;
}

return <div>{session.user.name}ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!</div>;
}

// pages/profile.tsx
import { getSession } from "next-auth/react";

export async function getServerSideProps(context) {
  const session = await getSession(context);

if (!session) {
return {
redirect: {
destination: "/login",
permanent: false,
},
};
}

return {
props: { session },
};
}

ìƒí™© ì¶”ì²œ í•¨ìˆ˜
í˜ì´ì§€ ë¡œë“œ ì „ì— ë¡œê·¸ì¸ ì—¬ë¶€ ê²€ì‚¬ í•„ìš” (SSR) getSession()
ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¼ ë²„íŠ¼/ë‚´ìš© ì¡°ê±´ë¶€ ë Œë”ë§ (CSR) useSession()
