@tailwind base;
@tailwind components;
@tailwind utilities;

::selection {
  background-color: #47a3f3;
  color: #fefefe;
}

:root {
  --sh-class: #379dd0; /* 클래스, 타입, 인터페이스 */
  --sh-identifier: #987777; /* 기본 텍스트 */
  --sh-sign: #424242; /* 연산자, 기호 */
  --sh-string: #009159; /* 문자열 */
  --sh-keyword: #ea558c; /* 키워드 (if, return 등) */
  --sh-comment: #646464; /* 주석 */
  --sh-jsxliterals: #fd971f; /* JSX 리터럴 */
  --sh-property: #ee5c18; /* 프로퍼티 */
  --sh-entity: #f92672; /* 엔티티 */
  --highlight-text-gray: #f3f4f6;
  --highlight-text-yellow: #fffacc;
  --highlight-text-sky: #d9edf7;
  --highlight-text-light-sky: #f0f9ff;
  --callout-accent: #22d3ee; /* cyan-400 */
  --callout-bg: #ecfeff; /* cyan-50 */
  --callout-fg: #0f172a; /* slate-900 */

  --callout-info: #3b82f6; /* blue-500 */
  --callout-info-bg: #eff6ff; /* blue-50 */

  --callout-tip: #10b981; /* emerald-500 */
  --callout-tip-bg: #ecfdf5; /* emerald-50 */

  --callout-warn: #f59e0b; /* amber-500 */
  --callout-warn-bg: #fffbeb; /* amber-50 */

  --callout-qa: #eb486c; /* violet-500 */
  --callout-qa-bg: #fff3f8; /* violet-50 */
}

/* Tailwind darkMode: 'class' 기반 */
html.dark {
  --sh-class: #66d9ef;
  --sh-identifier: #f8f8f2;
  --sh-sign: #f8f8f2;
  --sh-string: #6eff8b;
  --sh-keyword: #f92672;
  --sh-comment: #75715e;
  --sh-jsxliterals: #fd971f;
  --sh-property: #ff970f;
  --sh-entity: #f92672;
  --highlight-text-gray: #2d2f45;
  --highlight-text-yellow: #3c3f5a;
  --highlight-text-sky: #264f78;
  --highlight-text-light-sky: #3b3f4c;
  --callout-accent: #22d3ee;
  --callout-bg: #0f172a;
  --callout-fg: #e2e8f0;

  --callout-info: #60a5fa;
  --callout-info-bg: #0b1220;

  --callout-tip: #34d399;
  --callout-tip-bg: #0f1a14;

  --callout-warn: #fbbf24;
  --callout-warn-bg: #1a1407;

  --callout-qa: #fa8b8b;
  --callout-qa-bg: #1a0b0b;
}

html {
  min-width: 360px;
}

.prose .anchor {
  @apply absolute invisible no-underline;

  margin-left: -1em;
  padding-right: 0.5em;
  width: 80%;
  max-width: 700px;
  cursor: pointer;
}

.anchor:hover {
  @apply visible;
}

.prose a {
  @apply underline transition-all decoration-neutral-400 dark:decoration-neutral-600 underline-offset-2 decoration-[0.1em];
}

.prose .anchor:after {
  @apply text-neutral-300 dark:text-neutral-700;
  content: "#";
}

.prose *:hover > .anchor {
  @apply visible;
}

.prose pre {
  @apply bg-neutral-50 dark:bg-neutral-900 rounded-lg overflow-x-auto border border-neutral-200 dark:border-neutral-900 py-2 px-3 text-sm;
}

.prose code {
  @apply px-1 py-0.5 rounded-lg;
}

.prose pre code {
  @apply p-0;
  border: initial;
  line-height: 1.5;
}

.prose code span {
  @apply font-medium;
}

.prose img {
  /* Don't apply styles to next/image */
  @apply m-0;
}

.prose p {
  @apply my-4 text-neutral-800 dark:text-neutral-200;
}

.prose h1 {
  @apply text-4xl font-medium tracking-tight mt-6 mb-2;
}

.prose h2 {
  @apply text-xl font-medium tracking-tight mt-6 mb-2;
}

.prose h3 {
  @apply text-xl font-medium tracking-tight mt-6 mb-2;
}

.prose h4 {
  @apply text-lg font-medium tracking-tight mt-6 mb-2;
}

.prose strong {
  @apply font-medium;
}

.prose ul {
  @apply list-disc pl-6;
}

.prose ol {
  @apply list-decimal pl-6;
}

.prose > :first-child {
  /* Override removing top margin, causing layout shift */
  margin-top: 1.25em !important;
  margin-bottom: 1.25em !important;
}

pre::-webkit-scrollbar {
  display: none;
}

pre {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}
.prose blockquote {
  border-left: 4px solid var(--callout-accent);
  background-color: var(--callout-bg);
  color: var(--callout-fg);
  padding: 0.5rem 1rem; /* 기존 0.2rem → 0.75rem */
  border-radius: 0.5rem;
  font-style: italic;
  transition: all 0.2s ease;
  line-height: 1.7; /* 가독성 향상 */
  margin: 1.25rem 0; /* 문단 리듬 */
}
.prose blockquote > :first-child {
  margin-top: 0;
}
.prose blockquote > :last-child {
  margin-bottom: 0;
}

/* 공통 콜아웃 베이스 */
.prose blockquote.callout {
  font-style: normal; /* 콜아웃은 보통 직설 톤 */
  border-left-width: 5px;
  display: block;
}

/* 타입별 색 */
/* 타입별 색 (기본: 라이트 모드) */
.prose blockquote.callout.info {
  border-left-color: var(--callout-info);
  background-color: var(--callout-info-bg);
  color: #1e3a8a; /* blue-900 */
}
.prose blockquote.callout.tip {
  border-left-color: var(--callout-tip);
  background-color: var(--callout-tip-bg);
  color: #064e3b; /* emerald-900 */
}
.prose blockquote.callout.warn {
  border-left-color: var(--callout-warn);
  background-color: var(--callout-warn-bg);
  color: #78350f; /* amber-900 */
}
.prose blockquote.callout.qa {
  border-left-color: var(--callout-qa);
  background-color: var(--callout-qa-bg);
  color: #310d21; /* violet-900 */
}

/* 다크 모드용 */
html.dark .prose blockquote.callout.info {
  border-left-color: var(--callout-info);
  background-color: #0b1220; /* dark blue-950 */
  color: #dbeafe; /* blue-100 */
}
html.dark .prose blockquote.callout.tip {
  border-left-color: var(--callout-tip);
  background-color: #0f1a14; /* dark green-950 */
  color: #d1fae5; /* emerald-100 */
}
html.dark .prose blockquote.callout.warn {
  border-left-color: var(--callout-warn);
  background-color: #1a1407; /* dark amber-950 */
  color: #fef3c7; /* amber-100 */
}
html.dark .prose blockquote.callout.qa {
  border-left-color: var(--callout-qa);
  background-color: #1a0b0b; /* dark violet-950 */
  color: #fee9e9; /* violet-100 */
}

/* 작은 타이틀 줄 때 */
.prose blockquote.callout .title {
  font-weight: 600;
  display: block;
  margin-bottom: 0.25rem;
}

.prose blockquote ul,
.prose blockquote ol {
  margin: 0.5rem 0 0.25rem 1rem;
}

.prose blockquote pre {
  margin: 0.5rem 0 0;
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.04);
}

/* Remove Safari input shadow on mobile */
input[type="text"],
input[type="email"] {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

table {
  display: block;
  max-width: fit-content;
  overflow-x: auto;
  white-space: nowrap;
}

.title {
  text-wrap: balance;
}

@layer utilities {
  @keyframes aurora {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  .aurora-bg {
    background: linear-gradient(
      270deg,
      #a5d8ff,
      #d0bfff,
      #ffd6a5,
      #caffbf,
      #9bf6ff
    );
    background-size: 1000% 1000%;
    animation: aurora 15s ease infinite;
  }
}
/* 기본 라이트 모드 */
.custom-scrollbar::-webkit-scrollbar {
  width: 4px;
  height: 4px;
  cursor: pointer;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: #3b82f6; /* 라이트 모드 기본 색 */
  border-radius: 9999px;
  transition: background-color 0.2s;
  cursor: pointer; /* 여기서 커서 변경 */
  transition: background-color 0.2s;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: #2563eb; /* 라이트 모드 호버 색 */
  cursor: pointer; /* 호버 시에도 적용 */
}

.custom-scrollbar::-webkit-scrollbar-track {
  background-color: #e5e7eb; /* 라이트 모드 트랙 */
  border-radius: 9999px;
}

/* 다크 모드 */
.dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: #76a7ed;
  cursor: pointer; /* 호버 시에도 적용 */
}
.dark .custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: #4552a1;
  cursor: pointer; /* 여기서 커서 변경 */
  transition: background-color 0.2s;
}

.dark .custom-scrollbar::-webkit-scrollbar-track {
  background-color: #555555;
}
